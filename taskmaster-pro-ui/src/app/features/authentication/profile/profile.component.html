<div class="form-container">
  <h2>Update Profile</h2>
  <form [formGroup]="profileForm" (ngSubmit)="onSubmit()">
    <mat-form-field appearance="fill" class="custom-form-field">
      <mat-label>Email</mat-label>
      <input matInput type="email" formControlName="email" readonly />
      <mat-error *ngIf="email.hasError('required')">
        Email is required
      </mat-error>
      <mat-error *ngIf="email.hasError('email')">
        Enter a valid email
      </mat-error>
      <mat-error *ngIf="email.hasError('maxlength')">
        Email is too long
      </mat-error>
    </mat-form-field>

    <mat-form-field appearance="fill" class="custom-form-field">
      <mat-label>First Name</mat-label>
      <input matInput formControlName="firstName">
      <mat-error *ngIf="firstName.hasError('required')">
        First name is required
      </mat-error>
      <mat-error *ngIf="firstName.hasError('maxlength')">
        First name cannot be more than 100 characters.
      </mat-error>
    </mat-form-field>

    <mat-form-field appearance="fill" class="custom-form-field">
      <mat-label>Last Name</mat-label>
      <input matInput formControlName="lastName">
      <mat-error *ngIf="lastName.hasError('required')">
        Last name is required
      </mat-error>
      <mat-error *ngIf="lastName.hasError('maxlength')">
        Last name cannot be more than 100 characters.
      </mat-error>
    </mat-form-field>

    <button class="custom-auth-button" color="primary" type="submit" [disabled]="!profileForm.valid || !isFormChanged || loading">
      <ng-container *ngIf="!loading">Save</ng-container>
      <ng-container *ngIf="loading">
        <span class="spinner" aria-hidden="true"></span>
        Savingâ€¦
      </ng-container>
    </button>
    <button class="custom-secondary-auth-button" type="button" (click)="cancel()">
      Cancel
    </button>
    <button type="button" class="change-password-btn" color="primary" (click)="goToChangePassword()">
      Change Password
    </button>
  </form>
</div>